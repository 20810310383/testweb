(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5832],{24654:function(){},42194:function(e,t,r){Promise.resolve().then(r.bind(r,67201))},85158:function(e,t,r){"use strict";r.d(t,{B:function(){return c},I:function(){return l}});var n=r(83464),o=r(11614),a=r(64927),i=r.n(a);r(60033);let s=()=>window.location.pathname.split("/")[1],c=n.Z.create({baseURL:"https://ecom-api-prd.tamburins.com/v1",withCredentials:!0,headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}}),l=n.Z.create({baseURL:"https://ecom-api-prd.tamburins.com/v1",withCredentials:!0,headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"},paramsSerializer(e){let t=Object.keys(e).filter(t=>null!==e[t]&&void 0!==e[t]&&""!==e[t]).reduce((t,r)=>(t[r]=e[r],t),{});return i().stringify(t,{arrayFormat:"repeat"})}});c.interceptors.request.use(async e=>(e.headers.Country=e.headers.Country||s(),e),()=>{});let u={fulfilled(e){e.headers.Country=e.headers.Country||s();let t=(0,o.getCookie)("accessToken");return t?"undefined"===t?((0,o.deleteCookie)("accessToken"),(0,o.deleteCookie)("refreshToken"),window.location.href="/signin"):e.headers.Authorization=`Bearer ${t}`:((0,o.deleteCookie)("accessToken"),(0,o.deleteCookie)("refreshToken"),window.location.href="/signin"),e},rejected:e=>Promise.reject(e)};l.interceptors.request.use(u.fulfilled,u.rejected);let y=!1,d=[],p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;d.forEach(r=>{e?r.reject(e):r.resolve(t)}),d=[]},f=async e=>{if("ERR_NETWORK"===e.code)return Promise.reject(e);let{config:t,response:{status:r,data:a}}=e;if(401===r&&"expired JWT token"===a.message)return Promise.reject(e);if(401===r&&!t._retry){if(y)return new Promise((e,t)=>{d.push({resolve:e,reject:t})}).then(e=>(t.headers.Authorization=`Bearer ${e}`,(0,n.Z)(t))).catch(e=>e);t._retry=!0,y=!0;let e=(0,o.getCookie)("refreshToken");return new Promise((r,a)=>{n.Z.post("/auth/refresh_token",{refreshToken:e}).then(e=>{let{data:a}=e;(0,o.setCookie)("accessToken",a.access_token),(0,o.setCookie)("refreshToken",a.refresh_token),t.headers.Authorization=`Bearer ${a.access_token}`,r((0,n.Z)(t)),p(null,a.accessToken)}).catch(e=>{p(e,null),a(e),(0,o.deleteCookie)("accessToken"),(0,o.deleteCookie)("refreshToken"),window.location.href="/signin"}).then(()=>{y=!1})})}return Promise.reject(e)};l.interceptors.response.use(e=>e,f)},67201:function(e,t,r){"use strict";r.d(t,{default:function(){return C}});var n=r(57437),o=r(71632),a=r(4741),i=r.n(a),s=r(2265),c=r(85733),l=r(66454),u=r(15681),y=r.n(u),d=r(82138),p=r(27385),f=r(41133),g=r(30342),h=r(85158);let _=async e=>{try{return(await h.B.get("/service/category/tree")).data}catch(e){throw e}},w=async e=>{try{return(await h.B.get(`/service/legacy/category/${e}/all`)).data}catch(e){throw e}};var m=r(68392),v=r(85645),b=r.n(v);let k=i().bind(b());function C(e){let{locale:t,parentsCategory:r,subcategory:a="",preloadedGnbCategories:i}=e,{visible:u,categoryRef:h}=(0,g.Z)(),v=(0,s.useRef)(null),[b,C]=(0,s.useState)(""),[j,x]=(0,s.useState)(null!=i?i:[]),[T,E]=(0,s.useState)(null),S=(0,m.q)(e=>e.categoryUrlKey),K=(0,m.q)(e=>e.parentsCategoryUrlKey),$=(0,m.y)(e=>e.categoryUrlKey),N=(0,f.Z)(!0),P=[].includes(t),{data:U}=(0,o.useQuery)({queryKey:["gnbCategories",t],queryFn:()=>_(t),enabled:r!==K}),{data:Z}=(0,o.useQuery)({queryKey:["gnbCategories","legacy",t],queryFn:()=>w(t),enabled:r!==K&&P});return(0,s.useEffect)(()=>{if(U&&(!P||"object"==typeof Z)){var e;let t=N?null==U?void 0:U.mobile:null==U?void 0:U.pc,n=Math.max(null==t?void 0:t.findIndex(e=>e.urlKey.toString()===r.toString()),0),o=t?t[n].name:"",a=t?null===(e=t[n])||void 0===e?void 0:e.children:[],i=P&&Z!=={}?a.map(e=>{if(!(e.categoryId in Z))return e;let{legacyCategoryName:t}=Z[e.categoryId];return t?{...e,name:t}:e}):a;C(o),x(i)}},[N,U,Z]),(0,s.useEffect)(()=>{if(T&&$&&j){let e=null==j?void 0:j.findIndex(e=>e.urlKey.toString()===S.toString()),t=null==j?void 0:j.findIndex(e=>e.urlKey.toString()===$.toString());t>=0&&T.slideTo(t,e>=0?300:0)}},[T,$,j]),(0,s.useEffect)(()=>{let e=document.documentElement;N?e.style.setProperty("--category-height-value","101px"):e.style.setProperty("--category-height-value","60px")},[N]),(0,n.jsxs)("div",{ref:h,className:`${k("category-wrap")} ${u?k("category-wrap-visible"):k("category-wrap-hidden")} desktop:flex desktop:items-center`,children:[(0,n.jsx)(p.Z,{className:`${y().variable} font-medium`,categoryName:b}),(0,n.jsx)("div",{className:`${k("category-wrap-tab")}`,children:(0,n.jsx)(l.tq,{ref:v,slidesPerView:"auto",spaceBetween:0,freeMode:!0,modules:[c.Rv],className:`${k("category-wrap-tab__swiper")}`,onSwiper:E,children:null==j?void 0:j.map(e=>{let{id:t,name:o,urlKey:i}=e;return(0,n.jsx)(l.o5,{className:k("category-wrap-tab__swiper_list"),children:(0,n.jsx)(d.Z,{categoryTabName:o,urlKey:i,parentsCategory:r,type:"shopLink",pageName:"shop",isActive:a===i})},t)})})})]})}},82138:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(57437),o=r(4741),a=r.n(o),i=r(99376),s=r(2265),c=r(68392),l=r(77894),u=r.n(l);let y=a().bind(u());function d(e){let{type:t,parentsCategory:r,urlKey:o,categoryTabName:a,dataCategoryId:l,categoryParams:u,onClick:d,isActive:p=!1,onParentClick:f,pageName:g}=e,h=(0,i.useRouter)(),_=(0,i.usePathname)().split("/")[1],[w,m]=(0,s.useState)("off");(0,c.y)(e=>e.update);let v=(0,c.q)(e=>e.update),b=(0,c.y)(e=>e.categoryUrlKey),k=(0,c.y)(e=>e.parentsCategoryUrlKey);return(0,s.useEffect)(()=>{"link"===t&&m(u===l?"on":"off"),"shopLink"===t&&m(b===o?"on":"off"),"params"===t&&m(p?"on":"off")},[p,b]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{type:"button",className:`${"on"===w?y("category-on"):y("category-off")} ${y("category")} items-center`,onClick:()=>{"params"===t&&(m("on"),null==d||d(o||"")),"link"===t&&(h.push(`/${_}/${g}/${l}/`),null==f||f()),"shopLink"===t&&(v({categoryUrlKey:b,parentsCategoryUrlKey:k}),h.push(`/${_}/${g}/${r}/${o}/`),null==f||f())},"data-category":l,children:a}),"shop"===g&&p&&(0,n.jsxs)("h1",{className:y("a11y-hidden"),children:[" ",a]})]})}},27385:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(57437),o=r(4741),a=r.n(o),i=r(38588),s=r(34139),c=r.n(s);let l=a().bind(c());function u(e){let{categoryName:t,className:r,convertName:o}=e,a=(0,i.useTranslations)();return(0,n.jsxs)("div",{className:`${l("category-name")} ${r}`,children:[t&&t," ",o&&a(o)]})}},41133:function(e,t,r){"use strict";var n=r(2265);t.Z=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],[t,r]=(0,n.useState)(e);return(0,n.useEffect)(()=>{let e=()=>{r(window.innerWidth<1024)};e();let t=()=>{e()};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[]),t}},30342:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(2265);function o(){let[e,t]=(0,n.useState)(0),[r,o]=(0,n.useState)(!0),a=(0,n.useRef)(null),i=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let r=()=>{let r=window.scrollY+110;window.scrollY>=0&&window.scrollY<110?o(!0):window.scrollY>=110&&(o(e>r),t(r))},n=()=>{window.innerWidth>=1024&&r()};return window.addEventListener("scroll",r),window.addEventListener("resize",n),n(),()=>{window.removeEventListener("scroll",r),window.removeEventListener("resize",n)}},[e]),{visible:r,headerRef:a,categoryRef:i}}},68392:function(e,t,r){"use strict";r.d(t,{q:function(){return a},y:function(){return i}});var n=r(59625),o=r(89134);let a=(0,n.Ue)((0,o.mW)(e=>({parentsCategoryUrlKey:"",categoryUrlKey:"",update:t=>{let{parentsCategoryUrlKey:r,categoryUrlKey:n}=t;return e(e=>({...e,parentsCategoryUrlKey:r,categoryUrlKey:n}))}}))),i=(0,n.Ue)((0,o.mW)(e=>({parentsCategoryUrlKey:"",categoryUrlKey:"",update:t=>{let{parentsCategoryUrlKey:r,categoryUrlKey:n}=t;return e(e=>({...e,parentsCategoryUrlKey:r,categoryUrlKey:n}))}})))},60033:function(e,t){"use strict";t.Z={temporaryLocale:["kr","en","cn","jp"],locales:["ko","en","zh","ja"],countries:["kr","jp"],languageByCountry:{kr:["ko","en","cn"],jp:["ja"]},currencyByCountry:{kr:"KRW",en:"KRW",cn:"KRW",jp:"JPY"},defaultLocale:"en",defaultCountry:"us",localeDetection:!1,pages:{"*":["common"]}}},85645:function(e){e.exports={"category-wrap":"CategoryTab_category-wrap__LpIE1","category-wrap-visible":"CategoryTab_category-wrap-visible__EymUA","category-wrap-hidden":"CategoryTab_category-wrap-hidden__O0qv6","category-wrap-tab":"CategoryTab_category-wrap-tab__u0kuv","category-wrap-tab__swiper":"CategoryTab_category-wrap-tab__swiper___YsBo","category-wrap-tab__swiper_list":"CategoryTab_category-wrap-tab__swiper_list__P8ECm"}},77894:function(e){e.exports={category:"CategoryTabButton_category__Zxm3t","category-on":"CategoryTabButton_category-on__64OyS","a11y-hidden":"CategoryTabButton_a11y-hidden__nBDb3"}},34139:function(e){e.exports={"category-name":"ProductCategory_category-name__ZQVke"}},15681:function(e){e.exports={style:{fontFamily:"'__helvetica_81c9c5', '__helvetica_Fallback_81c9c5', helvetica, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Apple SD Gothic Neo', sans-serif"},className:"__className_81c9c5",variable:"__variable_81c9c5"}},4741:function(e,t){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=i(e,a.call(this,r)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return this&&this[e]||e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(this,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=i(t,this&&this[r]||r));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0!==(r=(function(){return o}).apply(t,[]))&&(e.exports=r)}()}},function(e){e.O(0,[8521,9644,9160,8588,6313,1632,5883,3834,2971,2117,1744],function(){return e(e.s=42194)}),_N_E=e.O()}]);